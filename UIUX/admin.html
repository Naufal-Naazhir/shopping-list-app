<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Shopping List</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 40px 20px; position: relative; overflow-x: hidden;">
    <!-- Animated Background Circles -->
    <div style="position: absolute; width: 300px; height: 300px; background: rgba(255,255,255,0.1); border-radius: 50%; top: -100px; left: -100px; animation: float 6s ease-in-out infinite;"></div>
    <div style="position: absolute; width: 200px; height: 200px; background: rgba(255,255,255,0.1); border-radius: 50%; bottom: -50px; right: -50px; animation: float 8s ease-in-out infinite reverse;"></div>
    
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
    
    <!-- Login Form (Initially shown) -->
    <div id="login-container" style="max-width: 420px; width: 100%; animation: slideIn 0.6s ease; position: relative; z-index: 1;">
        <div style="text-align: center; margin-bottom: 32px;">
            <div style="width: 90px; height: 90px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); border-radius: 24px; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px; font-size: 3rem; box-shadow: 0 12px 32px rgba(255,107,107,0.4); animation: pulse 2s ease-in-out infinite;">
                üîê
            </div>
            <h1 style="margin: 0 0 8px 0; font-size: 2.2rem; color: #fff; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.2);">Admin Panel</h1>
            <p style="margin: 0; color: rgba(255,255,255,0.9); font-size: 1rem;">Restricted access - Admin only</p>
        </div>

        <div style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-radius: 24px; padding: 32px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.2);">
            <form id="admin-login-form">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; color: #333; font-weight: 600; font-size: 0.95rem;">Admin Username</label>
                    <input type="text" id="admin-username" placeholder="Enter admin username" required style="width: 100%; padding: 14px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem; box-sizing: border-box; transition: border-color 0.2s;">
                </div>
                
                <div style="margin-bottom: 24px;">
                    <label style="display: block; margin-bottom: 8px; color: #333; font-weight: 600; font-size: 0.95rem;">Admin Password</label>
                    <input type="password" id="admin-password" placeholder="Enter admin password" required style="width: 100%; padding: 14px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem; box-sizing: border-box; transition: border-color 0.2s;">
                </div>

                <div id="login-error" style="display: none; padding: 12px; background: #ffebee; border-left: 4px solid #f44336; border-radius: 8px; margin-bottom: 20px; color: #c62828; font-size: 0.9rem;"></div>

                <button type="submit" id="admin-login-btn" style="width: 100%; padding: 16px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: #fff; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: bold; cursor: pointer; box-shadow: 0 6px 20px rgba(255,107,107,0.4); transition: all 0.3s;">
                    <span id="login-btn-text">LOGIN AS ADMIN</span>
                    <span id="login-btn-loader" style="display: none;">üîÑ Verifying...</span>
                </button>
            </form>
        </div>

        <div style="text-align: center; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 16px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.2);">
            <p style="margin: 0; color: #fff; font-size: 0.95rem;">
                Not an admin? 
                <a href="login.html" style="color: #fff; font-weight: 700; text-decoration: none; text-shadow: 0 2px 4px rgba(0,0,0,0.2);">Go to Login ‚Üí</a>
            </p>
        </div>
    </div>

    <!-- Admin Dashboard (Hidden initially) -->
    <div id="admin-dashboard" style="display: none; max-width: 900px; width: 100%; animation: fadeIn 0.6s ease; position: relative; z-index: 1;">
        <div style="text-align: center; margin-bottom: 32px;">
            <div style="width: 90px; height: 90px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); border-radius: 24px; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px; font-size: 3rem; box-shadow: 0 12px 32px rgba(255,107,107,0.4);">
                üë®‚Äçüíº
            </div>
            <h1 style="margin: 0 0 8px 0; font-size: 2.2rem; color: #fff; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.2);">Admin Dashboard</h1>
            <p style="margin: 0; color: rgba(255,255,255,0.9); font-size: 1rem;">Welcome, Administrator</p>
        </div>

        <!-- Stats Cards -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 32px;">
            <!-- Total Users -->
            <div style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-radius: 20px; padding: 24px; box-shadow: 0 8px 24px rgba(0,0,0,0.2);">
                <div style="font-size: 2.5rem; margin-bottom: 12px;">üë•</div>
                <div style="font-size: 2rem; font-weight: 700; color: #333; margin-bottom: 4px;" id="total-users">0</div>
                <div style="font-size: 0.9rem; color: #666;">Total Users</div>
            </div>

            <!-- Premium Users -->
            <div style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); border-radius: 20px; padding: 24px; box-shadow: 0 8px 24px rgba(255,165,0,0.3);">
                <div style="font-size: 2.5rem; margin-bottom: 12px;">üíé</div>
                <div style="font-size: 2rem; font-weight: 700; color: #000; margin-bottom: 4px;" id="premium-users">0</div>
                <div style="font-size: 0.9rem; color: #333;">Premium Users</div>
            </div>

            <!-- Free Users -->
            <div style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-radius: 20px; padding: 24px; box-shadow: 0 8px 24px rgba(0,0,0,0.2);">
                <div style="font-size: 2.5rem; margin-bottom: 12px;">üÜì</div>
                <div style="font-size: 2rem; font-weight: 700; color: #333; margin-bottom: 4px;" id="free-users">0</div>
                <div style="font-size: 0.9rem; color: #666;">Free Users</div>
            </div>
        </div>

        <!-- Users List -->
        <div style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-radius: 24px; padding: 32px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); margin-bottom: 20px;">
            <h2 style="margin: 0 0 24px 0; font-size: 1.5rem; color: #333; display: flex; align-items: center; gap: 12px;">
                <span>üìã</span> Registered Users
            </h2>
            <div id="users-list" style="max-height: 400px; overflow-y: auto;">
                <!-- Users will be loaded here -->
            </div>
        </div>

        <!-- Action Buttons -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px;">
            <button onclick="refreshData()" style="padding: 16px; background: linear-gradient(135deg, #22b14c 0%, #1a8f3d 100%); color: #fff; border: none; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(34,177,76,0.3); transition: all 0.3s;">
                üîÑ Refresh Data
            </button>
            <button onclick="showClearUsersModal()" style="padding: 16px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: #fff; border: none; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(255,107,107,0.3); transition: all 0.3s;">
                üóëÔ∏è Clear All Users
            </button>
            <button onclick="adminLogout()" style="padding: 16px; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); color: #fff; border: 2px solid rgba(255,255,255,0.3); border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                üö™ Logout
            </button>
        </div>
    </div>

    <script>
        // Check if already logged in as admin
        const currentUser = localStorage.getItem('currentUser');
        const isLoggedIn = localStorage.getItem('isLoggedIn');
        
        if (isLoggedIn === 'true' && currentUser === 'admin') {
            // Already logged in as admin, show dashboard directly
            document.getElementById('login-container').style.display = 'none';
            document.getElementById('admin-dashboard').style.display = 'block';
            loadAdminData();
        }
        
        // Admin Login
        document.getElementById('admin-login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('admin-username').value.trim();
            const password = document.getElementById('admin-password').value.trim();
            const errorMsg = document.getElementById('login-error');
            const loginBtn = document.getElementById('admin-login-btn');
            const btnText = document.getElementById('login-btn-text');
            const btnLoader = document.getElementById('login-btn-loader');
            
            errorMsg.style.display = 'none';
            
            // Show loading
            loginBtn.disabled = true;
            loginBtn.style.opacity = '0.8';
            btnText.style.display = 'none';
            btnLoader.style.display = 'inline';
            
            setTimeout(() => {
                // Check admin credentials
                if (username === 'admin' && password === 'admin123') {
                    // Success
                    btnLoader.textContent = '‚úÖ Access Granted!';
                    loginBtn.style.background = 'linear-gradient(135deg, #4CAF50 0%, #45a049 100%)';
                    
                    setTimeout(() => {
                        document.getElementById('login-container').style.display = 'none';
                        document.getElementById('admin-dashboard').style.display = 'block';
                        loadAdminData();
                    }, 800);
                } else {
                    // Failed
                    errorMsg.textContent = '‚ùå Invalid admin credentials!';
                    errorMsg.style.display = 'block';
                    errorMsg.style.animation = 'shake 0.5s';
                    
                    loginBtn.disabled = false;
                    loginBtn.style.opacity = '1';
                    btnText.style.display = 'inline';
                    btnLoader.style.display = 'none';
                }
            }, 800);
        });

        // Load Admin Data
        function loadAdminData() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const premiumCount = users.filter(u => u.isPremium).length;
            const freeCount = users.length - premiumCount;
            
            document.getElementById('total-users').textContent = users.length;
            document.getElementById('premium-users').textContent = premiumCount;
            document.getElementById('free-users').textContent = freeCount;
            
            displayUsers();
        }

        // Display Users
        function displayUsers() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const usersList = document.getElementById('users-list');
            
            if (users.length === 0) {
                usersList.innerHTML = '<p style="color: #999; text-align: center; padding: 40px;">No users found</p>';
                return;
            }
            
            usersList.innerHTML = users.map((user, index) => {
                // Determine user type styling
                const isAdmin = user.username === 'admin';
                const isPremium = user.isPremium;
                
                let background, borderColor, badgeBackground, badgeColor, badgeText, userIcon;
                
                if (isAdmin) {
                    // Admin - Highest level (Red/Dark theme)
                    background = 'linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)';
                    borderColor = '#ff5252';
                    badgeBackground = 'linear-gradient(135deg, #000 0%, #333 100%)';
                    badgeColor = '#fff';
                    badgeText = 'üë®‚Äçüíº ADMIN';
                    userIcon = 'üë®‚Äçüíº';
                } else if (isPremium) {
                    // Premium - Second level (Gold theme)
                    background = 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)';
                    borderColor = '#FFD700';
                    badgeBackground = 'linear-gradient(135deg, #FFD700 0%, #FFA500 100%)';
                    badgeColor = '#000';
                    badgeText = 'üíé PREMIUM';
                    userIcon = 'üíé';
                } else {
                    // Free - Basic level (Gray theme)
                    background = '#f8f9fa';
                    borderColor = '#e0e0e0';
                    badgeBackground = '#e0e0e0';
                    badgeColor = '#666';
                    badgeText = 'üÜì FREE';
                    userIcon = '';
                }
                
                return `
                    <div style="padding: 16px; margin: 12px 0; background: ${background}; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid ${borderColor}; box-shadow: ${isAdmin ? '0 4px 12px rgba(255,107,107,0.3)' : '0 2px 8px rgba(0,0,0,0.1)'};">
                        <div style="flex: 1;">
                            <div style="font-size: 1.1rem; font-weight: 600; color: ${isAdmin ? '#fff' : '#333'}; margin-bottom: 4px;">
                                ${userIcon} ${user.username}
                            </div>
                            <div style="font-size: 0.9rem; color: ${isAdmin ? 'rgba(255,255,255,0.9)' : '#666'};">
                                ${user.email || 'No email'}
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="display: inline-block; padding: 8px 16px; background: ${badgeBackground}; color: ${badgeColor}; border-radius: 16px; font-size: 0.85rem; font-weight: 700; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
                                ${badgeText}
                            </div>
                            ${!isAdmin ? `
                                <button onclick="deleteUser('${user.username}')" style="padding: 8px 12px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: white; border: none; border-radius: 8px; font-size: 0.85rem; font-weight: 600; cursor: pointer; box-shadow: 0 2px 8px rgba(255,107,107,0.3); transition: all 0.2s;">
                                    üóëÔ∏è Delete
                                </button>
                            ` : '<div style="padding: 8px 16px; background: rgba(0,0,0,0.2); color: rgba(255,255,255,0.9); border-radius: 8px; font-size: 0.85rem; font-weight: 600; backdrop-filter: blur(10px);">üîí Protected</div>'}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Refresh Data
        function refreshData() {
            loadAdminData();
            showToast('‚úÖ Data refreshed!');
        }
        
        // Delete Individual User
        function deleteUser(username) {
            const modal = document.createElement('div');
            modal.id = 'delete-user-modal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); animation: fadeIn 0.3s ease;';
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 24px; padding: 32px; max-width: 400px; width: 90%; box-shadow: 0 30px 80px rgba(0,0,0,0.5); animation: bounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 16px;">üóëÔ∏è</div>
                    <h2 style="margin: 0 0 12px 0; font-size: 1.8rem; color: #ff6b6b;">Delete User?</h2>
                    <p style="color: #666; margin: 0 0 8px 0;">Are you sure you want to delete:</p>
                    <p style="color: #333; font-weight: 600; font-size: 1.1rem; margin: 0 0 24px 0;">${username}</p>
                    
                    <div style="background: #fff3e0; padding: 12px; border-radius: 8px; margin-bottom: 24px; border-left: 4px solid #ff9800;">
                        <p style="margin: 0; color: #e65100; font-size: 0.9rem;">‚ö†Ô∏è This will also delete all their lists and items!</p>
                    </div>
                    
                    <div style="display: flex; gap: 12px;">
                        <button onclick="closeDeleteUserModal()" style="flex: 1; padding: 14px; background: #f5f5f5; border: none; color: #666; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s;">
                            Cancel
                        </button>
                        <button onclick="confirmDeleteUser('${username}')" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); border: none; color: white; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(255,107,107,0.3); transition: all 0.2s;">
                            Delete
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        function closeDeleteUserModal() {
            const modal = document.getElementById('delete-user-modal');
            if (modal) modal.remove();
        }
        
        function confirmDeleteUser(username) {
            const modal = document.getElementById('delete-user-modal');
            const modalContent = modal.querySelector('div');
            
            // Show loading
            modalContent.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3rem; margin-bottom: 16px; animation: pulse 1s ease infinite;">üóëÔ∏è</div>
                    <div style="font-size: 1.2rem; font-weight: 600; color: #333; margin-bottom: 8px;">Deleting user...</div>
                    <div style="width: 200px; height: 4px; background: #f0f0f0; border-radius: 2px; margin: 0 auto; overflow: hidden;">
                        <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #ff6b6b, #ee5a6f); animation: progress 0.8s ease;"></div>
                    </div>
                </div>
            `;
            
            setTimeout(() => {
                // Get users
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                
                // Remove the user
                const updatedUsers = users.filter(u => u.username !== username);
                localStorage.setItem('users', JSON.stringify(updatedUsers));
                
                // Clear user data
                localStorage.removeItem(`allLists_${username}`);
                
                // Close modal
                closeDeleteUserModal();
                
                // Show success
                showToast(`‚úÖ User "${username}" deleted successfully`);
                
                // Refresh data
                loadAdminData();
            }, 800);
        }

        // Show Clear Users Modal
        function showClearUsersModal() {
            const modal = document.createElement('div');
            modal.id = 'clear-modal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); animation: fadeIn 0.3s ease;';
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 24px; padding: 32px; max-width: 500px; width: 90%; box-shadow: 0 30px 80px rgba(0,0,0,0.5); animation: bounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <div style="font-size: 4rem; margin-bottom: 16px;">üóëÔ∏è</div>
                        <h2 style="margin: 0 0 12px 0; font-size: 1.8rem; color: #ff6b6b;">Clear All Users?</h2>
                        <p style="color: #666; margin: 0;">This will delete all users except admin</p>
                    </div>
                    
                    <div style="background: #fff3e0; padding: 16px; border-radius: 12px; margin-bottom: 24px; border-left: 4px solid #ff9800;">
                        <strong style="color: #e65100;">‚ö†Ô∏è Warning:</strong>
                        <p style="margin: 8px 0 0 0; color: #666; font-size: 0.9rem;">This action cannot be undone! All user data will be permanently deleted.</p>
                    </div>
                    
                    <div style="display: flex; gap: 12px;">
                        <button onclick="closeClearModal()" style="flex: 1; padding: 14px; background: #f5f5f5; border: none; color: #666; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer;">
                            Cancel
                        </button>
                        <button onclick="confirmClearUsers()" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); border: none; color: white; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(255,107,107,0.3);">
                            Clear All
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function closeClearModal() {
            const modal = document.getElementById('clear-modal');
            if (modal) modal.remove();
        }

        function confirmClearUsers() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const adminOnly = users.filter(u => u.username === 'admin');
            const deletedCount = users.length - adminOnly.length;
            
            localStorage.setItem('users', JSON.stringify(adminOnly));
            
            // Clear user data
            const allKeys = Object.keys(localStorage);
            allKeys.forEach(key => {
                if (key.startsWith('allLists_') && key !== 'allLists_admin') {
                    localStorage.removeItem(key);
                }
            });
            
            closeClearModal();
            showToast(`‚úÖ Deleted ${deletedCount} user(s)!`);
            loadAdminData();
        }

        // Admin Logout
        function adminLogout() {
            showLogoutModal();
        }
        
        function showLogoutModal() {
            const modal = document.createElement('div');
            modal.id = 'logout-modal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); animation: fadeIn 0.3s ease;';
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 24px; padding: 32px; max-width: 400px; width: 90%; box-shadow: 0 30px 80px rgba(0,0,0,0.5); animation: bounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 16px; animation: wave 1s ease infinite;">üëã</div>
                    <h2 style="margin: 0 0 12px 0; font-size: 1.8rem; color: #333;">Logout Admin?</h2>
                    <p style="color: #666; margin: 0 0 24px 0;">You will be returned to the login screen</p>
                    
                    <div style="display: flex; gap: 12px;">
                        <button onclick="closeLogoutModal()" style="flex: 1; padding: 14px; background: #f5f5f5; border: none; color: #666; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s;">
                            Cancel
                        </button>
                        <button onclick="confirmLogout()" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); border: none; color: white; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(255,107,107,0.3); transition: all 0.2s;">
                            Logout
                        </button>
                    </div>
                </div>
                
                <style>
                    @keyframes wave {
                        0%, 100% { transform: rotate(0deg); }
                        25% { transform: rotate(-15deg); }
                        75% { transform: rotate(15deg); }
                    }
                </style>
            `;
            
            document.body.appendChild(modal);
        }
        
        function closeLogoutModal() {
            const modal = document.getElementById('logout-modal');
            if (modal) modal.remove();
        }
        
        function confirmLogout() {
            const modal = document.getElementById('logout-modal');
            const modalContent = modal.querySelector('div');
            
            // Show loading
            modalContent.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3rem; margin-bottom: 16px; animation: pulse 1s ease infinite;">üëã</div>
                    <div style="font-size: 1.2rem; font-weight: 600; color: #333; margin-bottom: 8px;">Logging out...</div>
                    <div style="width: 200px; height: 4px; background: #f0f0f0; border-radius: 2px; margin: 0 auto; overflow: hidden;">
                        <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #ff6b6b, #ee5a6f); animation: progress 1s ease;"></div>
                    </div>
                </div>
                <style>
                    @keyframes progress {
                        from { transform: translateX(-100%); }
                        to { transform: translateX(0); }
                    }
                    @keyframes pulse {
                        0%, 100% { transform: scale(1); }
                        50% { transform: scale(1.1); }
                    }
                </style>
            `;
            
            setTimeout(() => {
                // Clear session
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('currentUser');
                
                // Hide dashboard, show login form
                document.getElementById('admin-dashboard').style.display = 'none';
                document.getElementById('login-container').style.display = 'block';
                
                // Clear form inputs
                document.getElementById('admin-username').value = '';
                document.getElementById('admin-password').value = '';
                
                // Close modal
                closeLogoutModal();
                
                // Show success toast
                showToast('‚úÖ Logged out successfully');
            }, 1000);
        }

        // Toast Notification
        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = 'position: fixed; bottom: 32px; right: 32px; background: #333; color: white; padding: 16px 24px; border-radius: 12px; font-size: 1rem; box-shadow: 0 8px 24px rgba(0,0,0,0.3); z-index: 10001; animation: slideIn 0.3s ease;';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Input focus effects
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('focus', function() {
                this.style.borderColor = '#ff6b6b';
            });
            input.addEventListener('blur', function() {
                this.style.borderColor = '#e0e0e0';
            });
        });

        // Button hover effects
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
            });
            button.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
</body>
</html>
